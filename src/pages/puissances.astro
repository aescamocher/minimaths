---
import Header from '../components/Header.astro';
import '../styles/global.css';
---

<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>MiniMaths ‚Äì Puissances</title>
  </head>
  <body>
    <Header />
    <main class="container">
      <h2>Puissances</h2>

      <!-- Partie 1 -->
      <h3>1. D√©finition - Cycle4</h3>
      <p>Une puissance permet d‚Äô√©crire une multiplication r√©p√©t√©e du m√™me nombre.</p>

      <style>
        .nature-section {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .nature-list {
          display: flex;
          justify-content: center;
          flex-wrap: wrap;
          gap: 1rem;
        }

        .nature-item {
          background: #1c1c1c;
          color: white;
          padding: 0.6rem 1rem;
          border-radius: 10px;
          cursor: pointer;
          text-align: center;
          font-size: 1rem;
          transition: background 0.3s, transform 0.2s;
        }

        .nature-item:hover,
        .nature-item.selected {
          background: #f39c12;
          font-weight: bold;
          transform: scale(1.05);
        }

        .nature-image {
          text-align: center;
          position: relative;
          min-height: 240px;
          max-width: 100%;
        }

        .nature-image img {
          max-width: 100%;
          max-height: 340px;
          width: auto;
          height: auto;
          border-radius: 12px;
          box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
          display: none;
          margin: auto;
        }

        .nature-image img.active {
          display: block;
        }

        .nature-placeholder {
          color: #ccc;
          font-size: 1.2rem;
          text-align: center;
          padding: 1.5rem 1rem;
          font-style: italic;
        }

        .image-caption {
          margin-top: 0.5rem;
          font-size: 0.9rem;
          color: #aaa;
          font-style: italic;
          text-align: center;
          display: none;
        }

        .image-caption.active {
          display: block;
        }
      </style>

      <div class="nature-section" id="section-exposants">
        <div class="nature-list">
          <div class="nature-item" data-nom="positif">Exposant positif</div>
          <div class="nature-item" data-nom="negatif">Exposant n√©gatif</div>
        </div>

        <div class="nature-image">
          <p class="nature-placeholder" id="nature-text-1">Clique sur un mot pour afficher l‚Äôimage correspondante</p>
          <img id="img-positif" src="/images/exposant-positif.jpeg" alt="Exposant positif" />
          <p id="caption-positif" class="image-caption">avec <strong>a</strong> un nombre relatif et <strong>n</strong> un entier naturel ‚â• 2</p>

          <img id="img-negatif" src="/images/exposant-negatif.jpeg" alt="Exposant n√©gatif" />
          <p id="caption-negatif" class="image-caption">avec <strong>a</strong> un nombre relatif et <strong>n</strong> un entier naturel ‚â• 2</p>
        </div>
      </div>

      <div class="video">
        <iframe width="100%" height="215"
          src="https://www.youtube.com/embed/6G8eDSGBiqc"
          title="Vid√©o D√©finition"
          frameborder="0"
          allowfullscreen>
        </iframe>
      </div>

      <!-- Partie 2 -->
      <h3>2. Calculs - Cycle4</h3>
      <p>Voici les r√®gles √† conna√Ætre :</p>

      <div class="nature-section" id="section-calculs">
        <div class="nature-list">
          <div class="nature-item" data-nom="multiplication">Multiplication</div>
          <div class="nature-item" data-nom="division">Division</div>
          <div class="nature-item" data-nom="puissance">Puissance</div>
        </div>

        <div class="nature-image">
          <p class="nature-placeholder" id="nature-text-2">Clique sur un mot pour afficher l‚Äôimage correspondante</p>
          <img id="img-multiplication" src="/images/multiplication.jpeg" alt="Multiplication" />
          <p id="caption-multiplication" class="image-caption">avec <strong>a</strong> un nombre relatif (‚â† 0 pour la division) et <strong>b, c</strong> des entiers naturels</p>

          <img id="img-division" src="/images/division.jpeg" alt="Division" />
          <p id="caption-division" class="image-caption">avec <strong>a</strong> un nombre relatif (‚â† 0 pour la division) et <strong>b, c</strong> des entiers naturels</p>

          <img id="img-puissance" src="/images/puissance.jpeg" alt="Puissance" />
          <p id="caption-puissance" class="image-caption">avec <strong>a</strong> un nombre relatif (‚â† 0 pour la division) et <strong>b, c</strong> des entiers naturels</p>
        </div>
      </div>

      <div class="video">
        <iframe width="100%" height="215"
          src="https://www.youtube.com/embed/_FSfq97SYz4"
          title="Vid√©o Calculs"
          frameborder="0"
          allowfullscreen>
        </iframe>
      </div>

      <!-- Partie 3 -->
      <h3>3. Notation scientifique - 3e</h3>
      <p>La notation scientifique permet d‚Äô√©crire plus simplement des nombres tr√®s grands ou tr√®s petits.</p>

      <div class="boxed">
        <p class="formula">
          a <span class="highlight">√ó</span> 10<sup>n</sup>
        </p>
        <p class="conditions">
          avec <strong>1 ‚â§ a &lt; 10</strong> et <strong>n</strong> entier relatif
        </p>
      </div>

      <div class="video">
        <iframe width="100%" height="215"
          src="https://www.youtube.com/embed/TqktVpbNUvQ"
          title="Vid√©o Notation scientifique"
          frameborder="0"
          allowfullscreen>
        </iframe>
      </div>

      <!-- Partie 4 -->
      <h3>4. QCM bilan - 3e</h3>
      <div class="boxed">
        <p style="text-align: center;">
          Teste tes connaissances sur les puissances avec ce QCM rapide.
        </p>
      </div>

      <div class="video">
        <iframe width="100%" height="215"
          src="https://www.youtube.com/embed/flDhSv3z5VU"
          title="QCM Puissances"
          frameborder="0"
          allowfullscreen>
        </iframe>
      </div>

      <a href="/" class="btn">üè† Retour √† l‚Äôaccueil</a>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const sections = [
            {
              id: 'section-exposants',
              noms: ['positif', 'negatif'],
              textId: 'nature-text-1'
            },
            {
              id: 'section-calculs',
              noms: ['multiplication', 'division', 'puissance'],
              textId: 'nature-text-2'
            }
          ];

          sections.forEach(section => {
            const container = document.getElementById(section.id);
            const items = container.querySelectorAll('.nature-item');
            const images = section.noms.map(nom => document.getElementById('img-' + nom));
            const captions = section.noms.map(nom => document.getElementById('caption-' + nom));
            const placeholder = document.getElementById(section.textId);

            items.forEach(item => {
              item.addEventListener('click', () => {
                const nom = item.dataset.nom;

                images.forEach(img => img.classList.remove('active'));
                captions.forEach(cap => cap.classList.remove('active'));

                const imageToShow = document.getElementById('img-' + nom);
                const captionToShow = document.getElementById('caption-' + nom);

                if (imageToShow && captionToShow) {
                  imageToShow.classList.add('active');
                  captionToShow.classList.add('active');
                  placeholder.style.display = 'none';
                }

                items.forEach(i => i.classList.remove('selected'));
                item.classList.add('selected');
              });
            });
          });
        });
      </script>
    </main>
  </body>
</html>
