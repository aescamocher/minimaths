---
import Header from '../components/Header.astro';
import '../styles/global.css';
---

<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>MiniMaths ‚Äì Pythagore</title>
<meta name="description" content="Exercices interactifs corrig√©s sur le th√©or√®me de Pythagore pour les √©l√®ves de 4e." />

  </head>
  <body>
    <Header />
    <main class="container">
      <h2>Pythagore - 4e</h2>

      <!-- Image + l√©gende -->
      <div style="margin-bottom: 2rem;">
        <img src="/images/pythagore.jpeg" alt="Th√©or√®me de Pythagore" style="width: 100%; border-radius: 12px;" />
        <p style="text-align: center; font-style: italic; margin-top: 0.5rem;">
          ¬´ Dans un triangle rectangle, le carr√© de la longueur de l‚Äôhypot√©nuse est √©gal √† la somme des carr√©s des longueurs des deux autres c√¥t√©s. ¬ª
        </p>
      </div>

      <!-- PARTIE 1 -->
      <h3 class="section-title">
        <span class="arrow"></span>
        <span class="title-text">1. Calculer la longueur de l'hypot√©nuse</span>
        <span class="cta">Cliquez pour ouvrir ‚ñº</span>
      </h3>
      <div class="collapsible-section">
<section class="example-corrected" data-title="Exemple corrig√©">
        <div style="text-align: center; margin-bottom: 1rem;">
          <img src="/images/hypotenuse.jpeg" alt="Hypot√©nuse" style="max-width: 100%; border-radius: 12px;" />
        </div>

<div style="margin: 1.5rem 0; font-family: system-ui, sans-serif; max-width: 320px;">
  <p> AC = ?</p>
  <input
    type="text"
    id="reponse1"
    placeholder="Entre ta r√©ponse (sans unit√©)"
    style="width: 100%; padding: 0.4rem 0.6rem; font-size: 1rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.5rem;"
  />
  <button
    id="valider1"
    style="background-color: #4f46e5; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;"
  >
    Valider
  </button>
  <p id="feedback1" style="margin-top: 0.5rem; font-weight: 600; min-height: 1.2em;"></p>
</div>

<script>
  document.getElementById('valider1').addEventListener('click', () => {
    const reponse = document.getElementById('reponse1').value.trim().replace('.', ',');
    const feedback = document.getElementById('feedback1');

    if (reponse === '') {
      feedback.textContent = 'Entre une r√©ponse.';
      feedback.style.color = '#d90429'; // rouge
    } else if (reponse === '6,5') {
      feedback.textContent = '‚úÖ Bravo, c‚Äôest la bonne r√©ponse ! Pour la r√©daction regarde la vid√©o ci-dessous.';
      feedback.style.color = '#198754'; // vert
    } else {
      feedback.textContent = '‚ùå Ce n‚Äôest pas la bonne r√©ponse. Regarde la vid√©o ci-dessous.';
      feedback.style.color = '#d90429'; // rouge
    }
  });
</script>


        <details >
          <summary style="cursor: pointer; font-weight: bold;">Voir la correction d√©taill√©e avec explications en vid√©o </summary>
          <div class="video">
            <iframe
              width="100%"
              height="215"
              src="https://www.youtube.com/embed/dPH5MeALlgg"
              title="Vid√©o exercice 1 Pythagore"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>
        </details>
</section>
<section class="training-links" data-title="Pour s‚Äôentra√Æner">

<div id="pythagorasQuizWrapper" style="font-family: system-ui, sans-serif; margin: 2rem auto; max-width: 600px; text-align: center;">
  <button id="startPythagQuiz" style="font-size: 1.3rem; font-weight: bold; padding: 0.6rem 1.4rem; background-color: #4f46e5; color: white; border: none; border-radius: 8px; cursor: pointer;">
    üé≤ G√©n√®re tes 5 triangles !
  </button>

  <div id="pythagorasQuizContainer" style="margin-top: 2rem; display: none;">
    <p id="pythagorasEnonce" style="font-size: 1.3rem; font-weight: bold; line-height: 1.4em;"></p>
    
    <div style="margin: 1rem 0; text-align: center;">
      <label for="pythagorasInput" style="font-weight: 600; font-size: 1.1rem;">BC = </label>
      <input id="pythagorasInput" type="text" placeholder="?" style="width: 80px; padding: 0.4rem; font-size: 1.1rem; text-align: center; border: 1.5px solid #ccc; border-radius: 6px;" />
    </div>

    <button id="validerPythagoras" style="background-color: #4f46e5; color: white; border: none; padding: 0.5rem 1.2rem; border-radius: 8px; font-size: 1rem; cursor: pointer;">
      Valider
    </button>

    <p id="pythagorasFeedback" style="margin-top: 1.2rem; font-size: 1.1rem; font-weight: 600; min-height: 2em;"></p>
    <p id="pythagorasScoreFinal" style="font-size: 1.3rem; font-weight: bold; margin-top: 2rem;"></p>

    <button id="replayPythagoras" style="display: none; background-color: #10b981; color: white; border: none; padding: 0.5rem 1.3rem; font-size: 1.1rem; border-radius: 8px; cursor: pointer; margin-top: 1rem;">
      üîÅ Rejouer une s√©rie !
    </button>
  </div>
</div>

<script>
(() => {
  const triplets = [
    [3,4,5],[5,12,13],[6,8,10],[7,24,25],[8,15,17],[9,12,15],
    [9,40,41],[10,24,26],[12,16,20],[12,35,37],[14,48,50],[15,20,25],
    [15,36,39],[16,30,34],[18,24,30],[20,21,29],[20,48,52],[21,28,35],
    [24,32,40],[27,36,45],[28,45,53],[30,40,50],[33,44,55],[36,48,60],
    [39,52,65],[40,42,58],[48,55,73],[48,64,80],[60,63,87],[65,72,97]
  ];

  function shuffle(a) {
    return a.sort(() => Math.random() - 0.5);
  }

  let list = [], idx = 0, score = 0;
  const startBtn = document.getElementById("startPythagQuiz");
  const container = document.getElementById("pythagorasQuizContainer");
  const enonce = document.getElementById("pythagorasEnonce");
  const input = document.getElementById("pythagorasInput");
  const valider = document.getElementById("validerPythagoras");
  const feedback = document.getElementById("pythagorasFeedback");
  const scoreFinal = document.getElementById("pythagorasScoreFinal");
  const replayBtn = document.getElementById("replayPythagoras");

  function showQuestion() {
    const [a,b,c] = list[idx];
    enonce.textContent = `Le triangle ABC est rectangle en A tel que AB = ${a} et AC = ${b}. Quelle est la longueur de BC ?`;
    input.value = "";
    feedback.textContent = "";
  }

  startBtn.addEventListener("click", () => {
    list = shuffle(triplets).slice(0,5);
    idx = 0; score = 0;
    scoreFinal.textContent = "";
    replayBtn.style.display = "none";
    container.style.display = "block";
    showQuestion();
  });

  valider.addEventListener("click", () => {
    const [a,b,c] = list[idx];
    const val = parseInt(input.value.trim());
    if (isNaN(val)) {
      feedback.textContent = "‚ö†Ô∏è Tape un nombre entier.";
      feedback.style.color = "#d97706";
      return;
    }

    if (val === c) {
      feedback.textContent = "‚úÖ Correct !";
      feedback.style.color = "#198754";
      score++;
    } else {
      feedback.textContent = `‚ùå Non : BC = ${c}.`;
      feedback.style.color = "#dc2626";
    }

    setTimeout(() => {
      idx++;
      if (idx < list.length) {
        showQuestion();
      } else {
        const msg = score === 5 ? "üéâ Parfait !" :
                    score >= 4 ? "üëç Presque !" :
                    "‚ùå √Ä revoir !";
        scoreFinal.textContent = `Score : ${score}/5 ‚Äì ${msg}`;
        replayBtn.style.display = "inline-block";
      }
    }, 800);
  });

  replayBtn.addEventListener("click", () => startBtn.click());
})();
</script>


        <ul class="link-buttons">
          <li><a href="/docs/hypotenuse.pdf" target="_blank" class="pdf-button">üìÑ Fiche d'exercices corrig√©s (MathsMentales)</a></li>
          <li><a href="/docs/hypotenuse2.pdf" target="_blank" class="pdf-button">üìò Exercices vari√©s (S√©samaths)</a></li>
        </ul>
</section>
      </div>

      <!-- PARTIE 2 -->
      <h3 class="section-title">
        <span class="arrow"></span>
        <span class="title-text">2. Calculer la longueur d'un c√¥t√© de l'angle droit</span>
        <span class="cta">Cliquez pour ouvrir ‚ñº</span>
      </h3>
      <div class="collapsible-section">
<section class="example-corrected" data-title="Exemple corrig√©">
        <div style="text-align: center; margin-bottom: 1rem;">
          <img src="/images/angledroit.jpeg" alt="Angle droit" style="max-width: 100%; border-radius: 12px;" />
        </div>

<div style="margin: 1.5rem 0; font-family: system-ui, sans-serif; max-width: 320px;">
  <p>AB = ?</p>
  <input
    type="text"
    id="reponse2"
    placeholder="Entre ta r√©ponse (ex: 7)"
    style="width: 100%; padding: 0.4rem 0.6rem; font-size: 1rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.5rem;"
  />
  <button
    id="valider2"
    style="background-color: #4f46e5; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;"
  >
    Valider
  </button>
  <p id="feedback2" style="margin-top: 0.5rem; font-weight: 600; min-height: 1.2em;"></p>
</div>

<script>
  document.getElementById('valider2').addEventListener('click', () => {
    const reponse = document.getElementById('reponse2').value.trim();
    const feedback = document.getElementById('feedback2');

    if (reponse === '') {
      feedback.textContent = 'Entre une r√©ponse.';
      feedback.style.color = '#d90429'; // rouge
    } else if (reponse === '3') {
      feedback.textContent = '‚úÖ Bravo, c‚Äôest la bonne r√©ponse ! Pour la r√©daction regarde la vid√©o ci-dessous.';
      feedback.style.color = '#198754'; // vert
    } else {
      feedback.textContent = '‚ùå Ce n‚Äôest pas la bonne r√©ponse. Regarde la vid√©o ci-dessous.';
      feedback.style.color = '#d90429'; // rouge
    }
  });
</script>



        <details style="margin-bottom: 1rem;">
          <summary style="cursor: pointer; font-weight: bold;">Voir la correction d√©taill√©e avec explications en vid√©o </summary>
          <div class="video">
            <iframe
              width="100%"
              height="215"
              src="https://www.youtube.com/embed/YXrDlkF2ZcU"
              title="Vid√©o exercice 2 Pythagore"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>
        </details>
</section>
<section class="training-links" data-title="Pour s‚Äôentra√Æner">

<div id="triRectQuizWrapper2" style="font-family: system-ui, sans-serif; margin: 2rem auto; max-width: 550px; text-align: center;">
  <button id="startTriRectQuiz2" style="font-size: 1.3rem; font-weight: bold; padding: 0.6rem 1.4rem; background-color: #4f46e5; color: white; border: none; border-radius: 8px; cursor: pointer;">
    üé≤ G√©n√®re tes 5 triangles !
  </button>

  <div id="triRectQuizContainer2" style="margin-top: 2rem; display: none;">
    <p id="triRectQuestion2" style="font-size: 1.4rem; font-weight: bold;"></p>
    <div style="margin-top: 1rem;">
      <label style="font-weight: 600;">AC = </label>
      <input id="triRectAnswer2" type="text" placeholder="?" style="width: 80px; text-align: center; padding: 0.4rem; border: 1.5px solid #ccc; border-radius: 6px;" />
    </div>
    <button id="validerTriRect2" style="margin-top: 1rem; background-color: #4f46e5; color: white; border: none; padding: 0.5rem 1.2rem; border-radius: 8px; font-size: 1rem; cursor: pointer;">
      Valider
    </button>
    <p id="triRectFeedback2" style="margin-top: 1rem; font-size: 1.1rem; font-weight: 600; min-height: 1.5em;"></p>
    <p id="triRectScoreFinal2" style="font-size: 1.3rem; font-weight: bold; margin-top: 2rem;"></p>
    <button id="replayTriRectQuiz2" style="display: none; background-color: #10b981; color: white; border: none; padding: 0.5rem 1.3rem; font-size: 1.1rem; border-radius: 8px; cursor: pointer; margin-top: 1rem;">
      üîÅ Rejouer une s√©rie !
    </button>
  </div>
</div>

<script>
(() => {
  const triplets = [
    [3, 4, 5], [5, 12, 13], [7, 24, 25], [9, 40, 41],
    [11, 60, 61], [12, 35, 37], [8, 15, 17], [20, 21, 29],
    [6, 8, 10], [10, 24, 26], [16, 63, 65], [33, 56, 65],
    [48, 55, 73], [36, 77, 85], [65, 72, 97]
  ];

  let questions = [], current = 0, score = 0;
  const btnStart = document.getElementById("startTriRectQuiz2");
  const container = document.getElementById("triRectQuizContainer2");
  const txtQuestion = document.getElementById("triRectQuestion2");
  const inputAnswer = document.getElementById("triRectAnswer2");
  const btnValider = document.getElementById("validerTriRect2");
  const feedback = document.getElementById("triRectFeedback2");
  const scoreFinal = document.getElementById("triRectScoreFinal2");
  const btnReplay = document.getElementById("replayTriRectQuiz2");

  function generateQuestions() {
    const selected = [];
    while (selected.length < 5) {
      const [a, b, c] = triplets[Math.floor(Math.random() * triplets.length)];
      selected.push({ AB: a, AC: b, BC: c });
    }
    return selected;
  }

  function showQuestion() {
    const q = questions[current];
    txtQuestion.textContent = `Le triangle ABC est rectangle en A tel que : AB = ${q.AB} et BC = ${q.BC}. Quelle est la longueur de AC ?`;
    feedback.textContent = "";
    inputAnswer.value = "";
  }

  btnStart.addEventListener("click", () => {
    questions = generateQuestions();
    current = 0;
    score = 0;
    scoreFinal.textContent = "";
    btnReplay.style.display = "none";
    container.style.display = "block";
    showQuestion();
  });

  btnValider.addEventListener("click", () => {
    const q = questions[current];
    const reponse = parseInt(inputAnswer.value.trim());
    if (isNaN(reponse)) {
      feedback.textContent = "‚ö†Ô∏è Merci d‚Äôentrer une valeur enti√®re.";
      feedback.style.color = "#d97706";
      return;
    }

    if (reponse === q.AC) {
      feedback.textContent = "‚úÖ Correct !";
      feedback.style.color = "#198754";
      score++;
    } else {
      feedback.textContent = `‚ùå Mauvaise r√©ponse. AC = ${q.AC}`;
      feedback.style.color = "#dc2626";
    }

    setTimeout(() => {
      current++;
      if (current < 5) {
        showQuestion();
      } else {
        let mention = score === 5 ? "üéâ Parfait !" :
                      score >= 4 ? "üëç Presque !" :
                      "‚ùå √Ä revoir !";
        scoreFinal.textContent = `Score : ${score}/5 ‚Äì ${mention}`;
        btnReplay.style.display = "inline-block";
      }
    }, 800);
  });

  btnReplay.addEventListener("click", () => {
    questions = generateQuestions();
    current = 0;
    score = 0;
    scoreFinal.textContent = "";
    btnReplay.style.display = "none";
    showQuestion();
  });
})();
</script>


        <ul class="link-buttons">
          <li><a href="/docs/angledroit.pdf" target="_blank" class="pdf-button">üìÑ Fiche d'exercices corrig√©s (MathsMentales)</a></li>
          <li><a href="/docs/angledroit2.pdf" target="_blank" class="pdf-button">üìò Exercices vari√©s (S√©samaths)</a></li>
        </ul>
</section>
      </div>

      <!-- PARTIE 3 -->
      <h3 class="section-title">
        <span class="arrow"></span>
        <span class="title-text">3. D√©montrer qu‚Äôun triangle est rectangle</span>
        <span class="cta">Cliquez pour ouvrir ‚ñº</span>
      </h3>
      <div class="collapsible-section">
<section class="example-corrected" data-title="Exemple corrig√©">
        <div style="text-align: center; margin-bottom: 1rem;">
          <img src="/images/rectangle.jpeg" alt="Rectangle" style="max-width: 100%; border-radius: 12px;" />
        </div>

<div style="display: flex; gap: 1rem; max-width: 700px; margin: 1.5rem 0; font-family: system-ui, sans-serif; flex-wrap: wrap;">
  <!-- Question gauche -->
  <div style="flex: 1 1 300px; min-width: 280px;">
    <p><strong>D'une part :</strong> 300¬≤ + 400¬≤ = ?</p>
    <input
      type="text"
      id="reponse31"
      placeholder="Entre ta r√©ponse sans espace"
      style="width: 100%; padding: 0.4rem 0.6rem; font-size: 1rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.4rem;"
    />
    <button
      id="valider31"
      style="background-color: #4f46e5; color: white; border: none; padding: 0.4rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;"
    >
      Valider
    </button>
    <p id="feedback31" style="margin-top: 0.4rem; font-weight: 600; min-height: 1.2em;"></p>
  </div>

  <!-- Question droite -->
  <div style="flex: 1 1 300px; min-width: 280px;">
    <p><strong>D'autre part:</strong> 500¬≤ = ?</p>
    <input
      type="text"
      id="reponse32"
      placeholder="Entre ta r√©ponse sans espace"
      style="width: 100%; padding: 0.4rem 0.6rem; font-size: 1rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.4rem;"
    />
    <button
      id="valider32"
      style="background-color: #4f46e5; color: white; border: none; padding: 0.4rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;"
    >
      Valider
    </button>
    <p id="feedback32" style="margin-top: 0.4rem; font-weight: 600; min-height: 1.2em;"></p>
  </div>
</div>

<script>
  function checkAnswer(inputId, feedbackId, correctAnswer) {
    const input = document.getElementById(inputId);
    const feedback = document.getElementById(feedbackId);
    const val = input.value.trim();

    if (val === '') {
      feedback.textContent = 'Entre une r√©ponse.';
      feedback.style.color = '#d90429';
    } else if (val === correctAnswer) {
      feedback.textContent = '‚úÖ Bravo, c‚Äôest la bonne r√©ponse ! Pour la r√©daction regarde la vid√©o ci-dessous.';
      feedback.style.color = '#198754';
    } else {
      feedback.textContent = '‚ùå Ce n‚Äôest pas la bonne r√©ponse. Regarde la vid√©o ci-dessous.';
      feedback.style.color = '#d90429';
    }
  }

  document.getElementById('valider31').addEventListener('click', () => {
    checkAnswer('reponse31', 'feedback31', '250000');
  });

  document.getElementById('valider32').addEventListener('click', () => {
    checkAnswer('reponse32', 'feedback32', '250000');
  });
</script>
<!-- Phrase √† trous : d√©monstration -->
<div style="margin-top: 2rem; font-family: system-ui, sans-serif; max-width: 600px;">
  <p>
    Donc ABC est rectangle en 
    <input
      type="text"
      id="trou1"
      placeholder="?"
      style="width: 60px; padding: 0.2rem 0.4rem; font-size: 1rem; border: 1.5px solid #ccc; border-radius: 6px;"
    />
    d‚Äôapr√®s la 
    <input
      type="text"
      id="trou2"
      placeholder="?"
      style="width: 120px; padding: 0.2rem 0.4rem; font-size: 1rem; border: 1.5px solid #ccc; border-radius: 6px;"
    />
    du th√©or√®me de Pythagore.
  </p>
  <button
    id="valider-trous"
    style="margin-top: 0.5rem; background-color: #4f46e5; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;"
  >
    Valider
  </button>
  <p id="feedback-trous" style="margin-top: 0.5rem; font-weight: 600; min-height: 1.2em;"></p>
</div>

<script>
  document.getElementById('valider-trous').addEventListener('click', () => {
    const trou1 = document.getElementById('trou1').value.trim().toLowerCase();
    const trou2 = document.getElementById('trou2').value.trim().toLowerCase();
    const feedback = document.getElementById('feedback-trous');

    if (!trou1 || !trou2) {
      feedback.textContent = 'Compl√®te les deux champs.';
      feedback.style.color = '#d90429'; // rouge
    } else if (trou1 === 'a' && trou2 === 'r√©ciproque') {
      feedback.textContent = '‚úÖ Bravo, c‚Äôest bien la bonne r√©daction !';
      feedback.style.color = '#198754'; // vert
    } else {
      feedback.textContent = '‚ùå Il y a une ou deux erreurs, v√©rifie la r√©daction dans la vid√©o.';
      feedback.style.color = '#d90429'; // rouge
    }
  });
</script>


        <details style="margin-bottom: 1rem;">
          <summary style="cursor: pointer; font-weight: bold;">Voir la correction d√©taill√©e avec explications en vid√©o </summary>
          <div class="video">
            <iframe
              width="100%"
              height="215"
              src="https://www.youtube.com/embed/yaSUraJrcCk"
              title="Vid√©o exercice 3 Pythagore"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>
        </details>
</section>
<section class="training-links" data-title="Pour s‚Äôentra√Æner">

<div id="triangleCheckerWrapper" style="font-family: system-ui, sans-serif; margin: 2rem auto; max-width: 550px; text-align: center;">
  <button id="startTriangleChecker" style="font-size: 1.3rem; font-weight: bold; padding: 0.6rem 1.4rem; background-color: #4f46e5; color: white; border: none; border-radius: 8px; cursor: pointer;">
    üé≤ G√©n√®re tes 5 triangles !
  </button>

  <div id="triangleCheckerContainer" style="margin-top: 2rem; display: none;">
    <p id="triangleQuestion" style="font-size: 1.4rem; font-weight: bold;"></p>
    <div style="margin: 1rem 0; display: flex; justify-content: center; gap: 1rem;">
      <button class="triangleAnswerBtn" data-answer="oui" style="padding: 0.6rem 1.2rem; font-size: 1rem; background-color: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer;">
        ‚úÖ Oui
      </button>
      <button class="triangleAnswerBtn" data-answer="non" style="padding: 0.6rem 1.2rem; font-size: 1rem; background-color: #ef4444; color: white; border: none; border-radius: 8px; cursor: pointer;">
        ‚ùå Non
      </button>
    </div>
    <p id="triangleFeedback" style="margin-top: 1rem; font-size: 1.1rem; font-weight: 600; min-height: 1.5em;"></p>
    <p id="triangleScoreFinal" style="font-size: 1.3rem; font-weight: bold; margin-top: 2rem;"></p>
    <button id="replayTriangleChecker" style="display: none; background-color: #4f46e5; color: white; border: none; padding: 0.5rem 1.3rem; font-size: 1.1rem; border-radius: 8px; cursor: pointer; margin-top: 1rem;">
      üîÅ Rejouer une s√©rie !
    </button>
  </div>
</div>

<script>
(() => {
  const tripletsRectangles = [
    [9, 40, 41], [28, 45, 53], [11, 60, 61], [33, 56, 65], [16, 63, 65],
    [36, 77, 85], [39, 80, 89], [65, 72, 97]
  ];

  const tripletsNonRectangles = [
    [13, 14, 15], [17, 15, 8], [20, 21, 29], [10, 11, 12],
    [7, 10, 12], [22, 23, 24], [6, 7, 10]
  ];

  function melange(liste) {
    for (let i = liste.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [liste[i], liste[j]] = [liste[j], liste[i]];
    }
    return liste;
  }

  const startBtn = document.getElementById("startTriangleChecker");
  const container = document.getElementById("triangleCheckerContainer");
  const question = document.getElementById("triangleQuestion");
  const feedback = document.getElementById("triangleFeedback");
  const finalScore = document.getElementById("triangleScoreFinal");
  const replayBtn = document.getElementById("replayTriangleChecker");

  let triangles = [], idx = 0, score = 0;

  function isRectangle(a, b, c) {
    return a * a + b * b === c * c || a * a + c * c === b * b || b * b + c * c === a * a;
  }

  function nouvelleSerie() {
    triangles = [];
    idx = 0;
    score = 0;
    feedback.textContent = "";
    finalScore.textContent = "";
    replayBtn.style.display = "none";

    const rect = melange([...tripletsRectangles]);
    const nonRect = melange([...tripletsNonRectangles]);

    const selection = [...rect.slice(0, 3), ...nonRect.slice(0, 2)];
    melange(selection);

    for (let i = 0; i < selection.length; i++) {
      const t = [...selection[i]];
      melange(t);
      const rectangle = isRectangle(...t);
      triangles.push({ c√¥t√©s: t, rectangle });
    }

    afficherQuestion();
  }

  function afficherQuestion() {
    const t = triangles[idx];
    question.textContent = `Le triangle ABC tel que : AB = ${t.c√¥t√©s[0]} ; AC = ${t.c√¥t√©s[1]} ; BC = ${t.c√¥t√©s[2]}  est-il rectangle ?`;
    feedback.textContent = "";
  }

  document.querySelectorAll(".triangleAnswerBtn").forEach(btn => {
    btn.addEventListener("click", () => {
      const reponse = btn.dataset.answer;
      const t = triangles[idx];

      const correcte = t.rectangle ? "oui" : "non";
      if (reponse === correcte) {
        feedback.textContent = "‚úÖ Bonne r√©ponse !";
        feedback.style.color = "#198754";
        score++;
      } else {
        feedback.textContent = `‚ùå Non, ce triangle est ${t.rectangle ? "rectangle" : "non rectangle"}.`;
        feedback.style.color = "#dc2626";
      }

      setTimeout(() => {
        idx++;
        if (idx < 5) {
          afficherQuestion();
        } else {
          const mention = score === 5 ? "üéâ Parfait !" :
                          score >= 4 ? "üëç Presque !" :
                          "‚ùå √Ä revoir !";
          finalScore.textContent = `Score : ${score}/5 ‚Äì ${mention}`;
          replayBtn.style.display = "inline-block";
        }
      }, 1000);
    });
  });

  startBtn.addEventListener("click", () => {
    container.style.display = "block";
    nouvelleSerie();
  });

  replayBtn.addEventListener("click", () => {
    nouvelleSerie();
  });
})();
</script>


        <ul class="link-buttons">
          <li><a href="/docs/rectangle.pdf" target="_blank" class="pdf-button">üìÑ Fiche d'exercices corrig√©s (MathsMentales)</a></li>
          <li><a href="/docs/rectangle2.pdf" target="_blank" class="pdf-button">üìò Exercices vari√©s (S√©samaths)</a></li>
        </ul>
</section>
      </div>

      <!-- PARTIE 4 -->
      <h3 class="section-title">
        <span class="arrow"></span>
        <span class="title-text">4. Objectif Brevet</span>
        <span class="cta">Cliquez pour ouvrir ‚ñº</span>
      </h3>
      <div class="collapsible-section">
<section class="example-corrected" data-title="QCM BILAN">
        <div class="video">
          <iframe
            width="100%"
            height="215"
            src="https://www.youtube.com/embed/asegQHSl7rQ"
            title="Vid√©o Objectif Brevet Pythagore"
            frameborder="0"
            allowfullscreen>
          </iframe>
        </div>
</section>
<section class="training-links" data-title="Pour s‚Äôentra√Æner">
        <ul class="link-buttons">
          <li><a href="/docs/melanges.pdf" target="_blank" class="pdf-button">üìÑ Fiche d'exercices m√©lang√©s corrig√©s (MathsMentales)</a></li>
          <li><a href="/docs/dnb.pdf" target="_blank" class="pdf-button">üìò Exercices type DNB (S√©samaths) - n√©cessite cosinus </a></li>
        </ul>
</section>
      </div>

      <a href="/" class="btn">üè† Retour √† l‚Äôaccueil</a>
    </main>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const titles = document.querySelectorAll('.collapsible-title, .section-title');
        titles.forEach(title => {
          const next = title.nextElementSibling;
          if (next && next.classList.contains('collapsible-section')) {
            title.addEventListener('click', () => {
              const isOpen = title.classList.toggle('open');
              next.classList.toggle('open', isOpen);
            });
          }
        });
      });
    </script>



  </body>
</html>
