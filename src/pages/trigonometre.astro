---
import Header from '../components/Header.astro';
import '../styles/global.css';
---

<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>MiniMaths ‚Äì Trigonom√©trie</title>
  </head>
  <body>
    <Header />
    <main class="container">
      <h2>Trigonom√©trie ‚Äì 3e</h2>
      <div style="margin-bottom: 2rem;">
        <img src="/images/trigo.jpeg" alt="Trigonom√©trie" style="width: 100%; border-radius: 12px;" />
        <p style="text-align: center; font-style: italic; margin-top: 0.5rem;">
          ¬´ SOHCAHTOA ¬ª
        </p>
      </div>
      <!-- Partie 1 -->
      <h3 class="section-title">
        <span class="arrow"></span>
        <span class="title-text">1. Vocabulaire</span>
        <span class="cta">Cliquez pour ouvrir ‚ñº</span>
      </h3>
      <div class="collapsible-section">
<section class="example-corrected" data-title="Exemple corrig√©">
<div style="text-align: center; margin-bottom: 1rem;">
          <img src="/images/vocabulairetrigo.jpeg" alt="Vocabulairetrigo" style="max-width: 100%; border-radius: 12px;" />
        </div>
<div style="display: flex; gap: 0.6rem; max-width: 700px; margin: 1.5rem 0; font-family: system-ui, sans-serif; flex-wrap: wrap; justify-content: space-between;">

  <!-- Question 1 -->
  <div style="flex: 1 1 32%; min-width: 200px; box-sizing: border-box;">
    <p>sin √Ç = ?</p>
    <input type="text" id="reponse31a" placeholder="num√©rateur ?" style="width: 100%; padding: 0.3rem 0.5rem; font-size: 0.95rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.3rem;" />
    <input type="text" id="reponse31b" placeholder="d√©nominateur ?" style="width: 100%; padding: 0.3rem 0.5rem; font-size: 0.95rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.4rem;" />
    <button id="valider31" style="background-color: #4f46e5; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 0.9rem;">Valider</button>
    <p id="feedback31" style="margin-top: 0.4rem; font-weight: 600; min-height: 1.2em;"></p>
  </div>

  <!-- Question 2 -->
  <div style="flex: 1 1 32%; min-width: 200px; box-sizing: border-box;">
    <p>cos √Ç = ?</p>
    <input type="text" id="reponse32a" placeholder="num√©rateur ?" style="width: 100%; padding: 0.3rem 0.5rem; font-size: 0.95rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.3rem;" />
    <input type="text" id="reponse32b" placeholder="d√©nominateur ?" style="width: 100%; padding: 0.3rem 0.5rem; font-size: 0.95rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.4rem;" />
    <button id="valider32" style="background-color: #4f46e5; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 0.9rem;">Valider</button>
    <p id="feedback32" style="margin-top: 0.4rem; font-weight: 600; min-height: 1.2em;"></p>
  </div>

  <!-- Question 3 -->
  <div style="flex: 1 1 32%; min-width: 200px; box-sizing: border-box;">
    <p>tan √Ç = ?</p>
    <input type="text" id="reponse33a" placeholder="num√©rateur ?" style="width: 100%; padding: 0.3rem 0.5rem; font-size: 0.95rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.3rem;" />
    <input type="text" id="reponse33b" placeholder="d√©nominateur ?" style="width: 100%; padding: 0.3rem 0.5rem; font-size: 0.95rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.4rem;" />
    <button id="valider33" style="background-color: #4f46e5; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 0.9rem;">Valider</button>
    <p id="feedback33" style="margin-top: 0.4rem; font-weight: 600; min-height: 1.2em;"></p>
  </div>
</div>
<script>
  function includesBoth(valA, valB, validA, validB) {
    const set = new Set([valA.trim(), valB.trim()]);
    return (
      (set.has(validA[0]) && set.has(validB[0])) ||
      (set.has(validA[0]) && set.has(validB[1])) ||
      (set.has(validA[1]) && set.has(validB[0])) ||
      (set.has(validA[1]) && set.has(validB[1]))
    );
  }

  // Question 1 : 
  document.getElementById('valider31').addEventListener('click', function () {
    const valA = document.getElementById('reponse31a').value;
    const valB = document.getElementById('reponse31b').value;
    const feedback = document.getElementById('feedback31');

    const validA = ['BC', 'CB'];
    const validB = ['AC', 'CA'];

    if (includesBoth(valA, valB, validA, validB)) {
      feedback.textContent = '‚úÖ Bien jou√© ! Revois la vid√©o ci-dessous si tu veux plus de d√©tails.';
      feedback.style.color = 'green';
    } else {
      feedback.textContent = '‚ùå Mauvaise fraction. Revois la vid√©o ci-dessous.';
      feedback.style.color = 'red';
    }
  });

  // Question 2 : 
  document.getElementById('valider32').addEventListener('click', function () {
  const valA = document.getElementById('reponse32a').value.trim().toUpperCase();
  const valB = document.getElementById('reponse32b').value.trim().toUpperCase();
  const feedback = document.getElementById('feedback32');

  const valid1 = ['AB', 'BA'];
  const valid2 = ['AC', 'CA'];

  const isValid = (valid1.includes(valA) && valid2.includes(valB)) ||
                  (valid1.includes(valB) && valid2.includes(valA));

  if (isValid) {
    feedback.textContent = '‚úÖ Bien jou√© ! Revois la vid√©o ci-dessous si tu veux plus de d√©tails.';
    feedback.style.color = 'green';
  } else {
    feedback.textContent = '‚ùå Mauvaise fraction. Revois la vid√©o ci-dessous.';
    feedback.style.color = 'red';
  }
});


  // Question 3 : √©galit√©
  document.getElementById('valider33').addEventListener('click', function () {
    const valA = document.getElementById('reponse33a').value.trim().toUpperCase();
    const valB = document.getElementById('reponse33b').value.trim().toUpperCase();
    const feedback = document.getElementById('feedback33');

  const valid11 = ['BC', 'CB'];
  const valid22 = ['AB', 'BA'];

  const isValid = (valid11.includes(valA) && valid22.includes(valB)) ||
                  (valid11.includes(valB) && valid22.includes(valA));

  if (isValid) {
    feedback.textContent = '‚úÖ Bien jou√© ! Revois la vid√©o ci-dessous si tu veux plus de d√©tails.';
    feedback.style.color = 'green';
  } else {
    feedback.textContent = '‚ùå Mauvaise fraction. Revois la vid√©o ci-dessous.';
    feedback.style.color = 'red';
    }
  });
</script>

        <details >

          <summary style="cursor: pointer; font-weight: bold;">Voir la correction d√©taill√©e avec explications en vid√©o </summary>
          <div class="video">
            <iframe
              width="100%"
              height="215"
              src="https://www.youtube.com/embed/QQ1GK21Y-gA"
              title="Vid√©o exercice 1 Trigo"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>
        </details>
</section>
<section class="training-links" data-title="Pour s‚Äôentra√Æner">
        <ul class="link-buttons">
          <li><a href="/docs/rapportstrigo.pdf" target="_blank" class="pdf-button">üìÑ Fiche d'exercices corrig√©s (MathsMentales)</a></li>
          <li><a href="/docs/rapportstrigo2.pdf" target="_blank" class="pdf-button">üìò Exercices vari√©s (S√©samaths)</a></li>
        </ul>
</section>
      </div>

      <!-- Partie 2 -->
      <h3 class="section-title">
        <span class="arrow"></span>
        <span class="title-text">2. Calculer une longueur</span>
        <span class="cta">Cliquez pour ouvrir ‚ñº</span>
      </h3>
      <div class="collapsible-section">
<section class="example-corrected" data-title="Exemple corrig√©">
<div style="text-align: center; margin-bottom: 1rem;">
          <img src="/images/longueurtrigo.jpeg" alt="Longueurtrigo" style="max-width: 100%; border-radius: 12px;" />
        </div>

<div style="margin: 1.5rem 0; font-family: system-ui, sans-serif; max-width: 320px;">
  <p> BC = ?</p>
  <input
    type="text"
    id="reponse1"
    placeholder="Entre ta r√©ponse (sans unit√©)"
    style="width: 100%; padding: 0.4rem 0.6rem; font-size: 1rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.5rem;"
  />
  <button
    id="valider1"
    style="background-color: #4f46e5; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;"
  >
    Valider
  </button>
  <p id="feedback1" style="margin-top: 0.5rem; font-weight: 600; min-height: 1.2em;"></p>
</div>

<script>
  document.getElementById('valider1').addEventListener('click', () => {
    const reponse = document.getElementById('reponse1').value.trim().replace('.', ',');
    const feedback = document.getElementById('feedback1');

    if (reponse === '') {
      feedback.textContent = 'Entre une r√©ponse.';
      feedback.style.color = '#d90429'; // rouge
    } else if (reponse === '8') {
      feedback.textContent = '‚úÖ Bravo, c‚Äôest la bonne r√©ponse ! Pour la r√©daction regarde la vid√©o ci-dessous.';
      feedback.style.color = '#198754'; // vert
    } else {
      feedback.textContent = '‚ùå Ce n‚Äôest pas la bonne r√©ponse. Regarde la vid√©o ci-dessous.';
      feedback.style.color = '#d90429'; // rouge
    }
  });
</script>

        <details >
          <summary style="cursor: pointer; font-weight: bold;">Voir la correction d√©taill√©e avec explications en vid√©o </summary>
          <div class="video">
            <iframe
              width="100%"
              height="215"
              src="https://www.youtube.com/embed/jkdLXcdqL9I"
              title="Vid√©o exercice 1 Trigo"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>
        </details>
</section>
<section class="training-links" data-title="Pour s‚Äôentra√Æner">
        <ul class="link-buttons">
<li><a href="/docs/trigolongueur1.pdf" target="_blank" class="pdf-button">üìÑ Fiche d'exercices corrig√©s (Coopmaths)</a></li>
          <li><a href="/docs/longueurtrigo2.pdf" target="_blank" class="pdf-button">üìò Exercices vari√©s (S√©samaths)</a></li>
        </ul>
</section>
      </div>


      <!-- Partie 3 -->
      <h3 class="section-title">
        <span class="arrow"></span>
        <span class="title-text">3. Calculer un angle</span>
        <span class="cta">Cliquez pour ouvrir ‚ñº</span>
      </h3>
      <div class="collapsible-section">
<section class="example-corrected" data-title="Exemple corrig√©">
<div style="text-align: center; margin-bottom: 1rem;">
          <img src="/images/angletrigo.jpeg" alt="Angletrigo" style="max-width: 100%; border-radius: 12px;" />
        </div>

<div style="margin: 1.5rem 0; font-family: system-ui, sans-serif; max-width: 320px;">
  <p>√Ç = ?</p>
  <input
    type="text"
    id="reponse2"
    placeholder="Entre ta r√©ponse arrondie √† l'unit√©"
    style="width: 100%; padding: 0.4rem 0.6rem; font-size: 1rem; border: 1.5px solid #ccc; border-radius: 6px; margin-bottom: 0.5rem;"
  />
  <button
    id="valider2"
    style="background-color: #4f46e5; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;"
  >
    Valider
  </button>
  <p id="feedback2" style="margin-top: 0.5rem; font-weight: 600; min-height: 1.2em;"></p>
</div>

<script>
  document.getElementById('valider2').addEventListener('click', () => {
    const reponse = document.getElementById('reponse2').value.trim();
    const feedback = document.getElementById('feedback2');

    if (reponse === '') {
      feedback.textContent = 'Entre une r√©ponse.';
      feedback.style.color = '#d90429'; // rouge
    } else if (reponse === '53') {
      feedback.textContent = '‚úÖ Bravo, c‚Äôest la bonne r√©ponse ! Pour la r√©daction regarde la vid√©o ci-dessous.';
      feedback.style.color = '#198754'; // vert
    } else {
      feedback.textContent = '‚ùå Ce n‚Äôest pas la bonne r√©ponse. Regarde la vid√©o ci-dessous.';
      feedback.style.color = '#d90429'; // rouge
    }
  });
</script>

        <details >
          <summary style="cursor: pointer; font-weight: bold;">Voir la correction d√©taill√©e avec explications en vid√©o </summary>
          <div class="video">
            <iframe
              width="100%"
              height="215"
              src="https://www.youtube.com/embed/6wJfyZEFFSw"
              title="Vid√©o exercice 2 Trigo"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>
        </details>
</section>
<section class="training-links" data-title="Pour s‚Äôentra√Æner">
        <ul class="link-buttons">
<li><a href="/docs/trigoangle1.pdf" target="_blank" class="pdf-button">üìÑ Fiche d'exercices corrig√©s (Coopmaths)</a></li>
          <li><a href="/docs/angletrigo2.pdf" target="_blank" class="pdf-button">üìò Exercices vari√©s (S√©samaths)</a></li>
        </ul>
</section>
      </div>
      <!-- Partie 4 -->
      <h3 class="section-title">
        <span class="arrow"></span>
        <span class="title-text">4. Objectif Brevet</span>
        <span class="cta">Cliquez pour ouvrir ‚ñº</span>
      </h3>
      <div class="collapsible-section">
<section class="example-corrected" data-title="QCM BILAN">
      <div class="video">
        <iframe
          width="100%"
          height="215"
          src="https://www.youtube.com/embed/NAQv0OTFiCs"
          title="QCM Trigonom√©trie"
          frameborder="0"
          allowfullscreen>
        </iframe>
      </div>
</section>
<section class="training-links" data-title="Pour s‚Äôentra√Æner">
        <ul class="link-buttons">
          <li><a href="/docs/trigodnb1.pdf" target="_blank" class="pdf-button">üìò Exercices DNB corrig√©s (Coopmaths)</a></li>
        </ul>
</section>
     </div>
      <a href="/" class="btn">üè† Retour √† l‚Äôaccueil</a>
    </main>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const titles = document.querySelectorAll('.collapsible-title, .section-title');
        titles.forEach(title => {
          const next = title.nextElementSibling;
          if (next && next.classList.contains('collapsible-section')) {
            title.addEventListener('click', () => {
              const isOpen = title.classList.toggle('open');
              next.classList.toggle('open', isOpen);
            });
          }
        });
      });
    </script>
  </body>
</html>
